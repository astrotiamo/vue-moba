(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c9118"],{5821:function(e,t,n){"use strict";n.r(t);n("7aa1"),n("797a"),n("c4aa"),n("c49e"),n("cc66"),n("10c7");var r=n("d8e8"),a=n("cf2e"),c=n("c349"),o=n("91c0"),u=(n("b0c0"),n("7a23")),i=Object(u["createTextVNode"])("保存");function l(e,t,n,l,s,p){var d=o["a"],b=o["b"],f=r["b"],h=c["a"],j=a["a"],O=r["a"];return Object(u["openBlock"])(),Object(u["createElementBlock"])(u["Fragment"],null,[Object(u["createElementVNode"])("h1",null,Object(u["toDisplayString"])(l.id?"编辑":"新建")+"分类",1),Object(u["createVNode"])(O,{"label-width":"120px"},{default:Object(u["withCtx"])((function(){return[Object(u["createVNode"])(f,{label:"上级分类"},{default:Object(u["withCtx"])((function(){return[Object(u["createVNode"])(b,{modelValue:l.categoryModel.parent,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.categoryModel.parent=e})},{default:Object(u["withCtx"])((function(){return[(Object(u["openBlock"])(!0),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(l.parents,(function(e){return Object(u["openBlock"])(),Object(u["createBlock"])(d,{key:e._id,value:e._id,label:e.name},null,8,["value","label"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(u["createVNode"])(f,{label:"名称"},{default:Object(u["withCtx"])((function(){return[Object(u["createVNode"])(h,{modelValue:l.categoryModel.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.categoryModel.name=e})},null,8,["modelValue"])]})),_:1}),Object(u["createVNode"])(f,null,{default:Object(u["withCtx"])((function(){return[Object(u["createVNode"])(j,{type:"primary","native-type":"submit",onClick:l.save},{default:Object(u["withCtx"])((function(){return[i]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)}var s=n("1da1"),p=(n("d3b7"),n("159b"),n("b64b"),n("96cf"),{name:"CategoryEdit",setup:function(){var e=Object(u["getCurrentInstance"])(),t=e.appContext,n=t.config.globalProperties,r=Object(u["ref"])(n.$route.params.id),a=Object(u["reactive"])({}),c=Object(u["reactive"])([]);function o(){return i.apply(this,arguments)}function i(){return i=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r.value){e.next=5;break}return e.next=3,n.$http.put("rest/categories/".concat(r.value),a);case 3:e.next=7;break;case 5:return e.next=7,n.$http.post("rest/categories",a);case 7:n.$router.push("/categories/list"),n.$message.success("保存成功！");case 9:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function l(){return p.apply(this,arguments)}function p(){return p=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.get("rest/categories/".concat(r.value));case 2:t=e.sent,Object.keys(t.data).forEach((function(e){a[e]=t.data[e]}));case 4:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function d(){return b.apply(this,arguments)}function b(){return b=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.get("rest/categories");case 2:t=e.sent,t.data.forEach((function(e){c.push(e)}));case 4:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return r.value&&l(),d(),{app:n,id:r,categoryModel:a,parents:c,save:o,fetch:l}}}),d=n("6b0d"),b=n.n(d);const f=b()(p,[["render",l]]);t["default"]=f}}]);
//# sourceMappingURL=chunk-2d0c9118.19b14f55.js.map